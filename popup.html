<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Stream Scout</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="popup-root">
      <header class="top-bar">
        <div class="logo">Stream Scout</div>
        <nav class="tabs">
          <button id="tabSearch" class="tab active">Search</button>
          <button id="tabWatchlist" class="tab">Watchlist</button>
          <button id="tabWatched" class="tab">Watched</button>
        </nav>
      </header>

      <section id="controls" class="controls">
        <div class="field-row">
          <input
            id="q"
            type="text"
            class="input"
            placeholder="Search movies or TV shows"
          />
          <button id="btnSearch" class="primary-btn">Search</button>
        </div>

        <div class="field-grid">
          <div class="field">
            <label class="label">Type</label>
            <select id="type" class="select">
              <option value="movie">Movies</option>
              <option value="tv">TV shows</option>
            </select>
            <label class="check-label">
              <input id="onlyAvail" type="checkbox" />
              Only where available
            </label>
          </div>

          <div class="field">
            <label class="label">Genres</label>
            <select
              id="genre"
              class="select multi"
              size="6"
              multiple
            ></select>
          </div>

          <div class="field">
            <label class="label">Min IMDb rating</label>
            <select id="minRating" class="select">
              <option value="">Any</option>
              <option value="9">9+</option>
              <option value="8">8+</option>
              <option value="7">7+</option>
              <option value="6">6+</option>
              <option value="5">5+</option>
            </select>

            <label class="label top-space">Show only on</label>
            <select
              id="providerFilter"
              class="select multi"
              size="5"
              multiple
            >
              <option value="Netflix">Netflix</option>
              <option value="Prime">Amazon Prime</option>
              <option value="Hulu">Hulu</option>
              <option value="Disney">Disney+</option>
              <option value="Crunchyroll">Crunchyroll</option>
              <option value="HBO">HBO Max</option>
            </select>
          </div>
        </div>
      </section>

      <section class="results-section">
        <p id="emptyState" class="empty">
          Start typing a title and press Search, or open your Watchlist.
        </p>
        <div id="results" class="results"></div>
      </section>

      <template id="row-tpl">
        <article class="result-row">
          <div class="result-main">
            <div class="title-line">
              <span class="title"></span>
              <span class="year-type"></span>
            </div>
            <div class="meta-line">
              <span class="imdb-badge"></span>
              <div class="providers"></div>
            </div>
          </div>
          <div class="result-actions">
            <button
              class="btn-icon btn-watchlist"
              title="Add to Watchlist"
            >
              ☆
            </button>
            <button
              class="btn-icon btn-watched"
              title="Mark watched"
            >
              ✓
            </button>
          </div>
        </article>
      </template>

      <aside id="hoverPreview" class="preview hidden">
        <img id="previewPoster" class="preview-poster" />
        <div class="preview-body">
          <div id="previewTitle" class="preview-title"></div>
          <div id="previewSub" class="preview-sub"></div>
          <div id="previewImdb" class="preview-imdb"></div>
          <div id="previewProviders" class="preview-providers"></div>
        </div>
      </aside>
    </div>

    <script src="popup.js" type="module"></script>
  </body>
</html>
